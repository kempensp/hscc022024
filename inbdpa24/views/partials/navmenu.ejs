<!-- Main Navigation Bar Starts-->
<nav class="navbar navbar-expand-lg bg-light">

    <!-- Insert container-fluid div class-->
    <div class="container-fluid">

        <!-- Add brand hyperlink to home page-->
        <a href="/" class="navbar-brand">
            <img src="/images/bdpalogo.png" alt="HOME LOGO" width="45" height="45">
        </a>

        <span class="navbar-text"> inBDPA 2024 </span>

        <!-- button for collapsing menu-->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" 
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navbar content-->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">

                <!-- First Nav Item: Home page-->
                <li class="nav-item">
                    <a href="/" aria-current="page" class="nav-link-active custom-link"> Home </a>
                </li>

                <!-- Second Nav Item: Register page (page 2)-->
                <li class="nav-item">
                    <a href="/page2" aria-current="page" class="nav-link-active custom-link"> Register </a>
                </li>

                <!-- Third Nav Item: Stats Page-->
                <li class="nav-item">
                    <a href="/stats" aria-current="page" class="nav-link-active custom-link"> Stats </a>
                </li>

                <!-- Drop Down -->
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"> Users </a>
                    <ul class="dropdown-menu">
                        <li> <a class="dropdown-item" href="/getusers"> Get User List </a></li>
                        <% if ((role) && role!='guest') { %> <!-- if the person is logged in-->
                        <li> <a class="dropdown-item" href="/getusers/<%= name %>"> View Profile </a></li>   
                        <% } %>

                    </ul>

                </li> 
                <!--opportunities if user is logged in-->
                <% if ((role) && role!='guest') { %> <!-- if the person is logged in-->
                    <li class="nav-item">
                        <a href="/getopportunities" aria-current="page" class="nav-link-active custom-link"> Opportunities </a>
                    </li>
                <% } %>

                <!--add opportunities if user is logged in-->
                <!--eventually this should be restricted to inner or admin-->
                <% if ((role) && role!='guest') { %> <!-- if the person is logged in-->
                    <li class="nav-item">
                        <a href="/addopportunities" aria-current="page" class="nav-link-active custom-link"> Add Opportunities </a>
                    </li>
                <% } %>

                

                <!-- End Nav Item: Login Page MAKE CONDITIONAL ON ROLE-->
                <li class="nav-item">
                    <!-- IF the login token is guest or non existant, do login-->
                    <% if (role=='guest' || !(role)) { %> 
                    <a href="/login" aria-current="page" class="nav-link-active custom-link"> Login </a>
                    <% } %>
                    <!-- If the login token exists as another role, do a welcome message and logout-->
                    <% if ((role) && role!='guest') { %> <!-- De Morgan's law to the first if...-->
                    <div style="color:black"> Welcome, <%= name %> </div>
                    <a href="/logout" aria-current="page" class="nav-link-active custom-link"> Logout </a>
                    <% } %>
                </li>



            </ul>
        <!-- End of Navbar content-->    
        </div>

    <!-- End container div-->
    </div>

<!-- End Navigation Bar -->    
</nav>